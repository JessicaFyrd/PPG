/*
 * DSP.h
 *
 *  Created on: 10 Jun 2022
 *      Author: Jessica Fayard
 */


#ifndef SRC_DSP_H_
#define SRC_DSP_H_



//Includes ============================================================================================================================================
#include "main.h"
#include "Board.h"
#include "Acquisition.h"
#include "arm_math.h"				//filtration
#include "string.h"					//memcpy


//Variables ===========================================================================================================================================
#define NUMBER_COEFS              	5
#define NUMBER_STAGE              	1
#define LENGTH_DATA_10s 			10*LENGTH_DATA
#define SHIFT 						40


//Enumeration types  ==================================================================================================================================
typedef enum
{
   DSP_OK = 0,
   DSP_ERROR = -1

} dsp_return_value_t;



/*===================================================================================================================================================*/
/*==================================================================Filtration=======================================================================*/
/*===================================================================================================================================================*/
//Functions  ==========================================================================================================================================
dsp_return_value_t DSP_INIT(void);
dsp_return_value_t IIR_FILTER(void);




/*===================================================================================================================================================*/
/*==============================================================Heart rate Calculation===============================================================*/
/*===================================================================================================================================================*/
//Functions  ==========================================================================================================================================
dsp_return_value_t ROLL_BUFFER(float32_t *input_buffer, float32_t *output_buffer);
dsp_return_value_t AUTO_CORRELATION(void);
float32_t HEART_RATE_CALCULATION(void);



#endif /* SRC_DSP_H_ */
